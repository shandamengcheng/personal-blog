### JS操作符
两个规则帮助理解操作符：
- 操作符将它们的操作数强制转换成适当的类型
- 大多数操作符仅适用于原始类型


1. 递增（++）
```
    let a = 3;
    a++ // output: 3
    ++a // output: 5
```
如上面代码所示，递增有两种类型：前缀型和后缀型。

两者的区别在于：**前缀型会在语句被求值前发生，后缀型则是在语句被求值之后发生。**

2. 递减(--)
```
    let a = 3;
    a-- // output: 3
    --a // output: 1
```
递减操作也分为前缀型和后缀型，区别同递增。

3. 一元加和减

可以用于数值运算也能用于类型转换。

这两个操作符应用到数值时，就是正常的将数值变成正负值。如果应用到非数值，则会等同于Number(value)的形式，将非数值转换成数值。
```
    let num = 25;
    num = -num // output: -25

    let str = '123'
    str = +str // output: 123
```
类型转换的原则：string -> number / NaN , boolean -> 0/1, object -> 对象的valueOf() / toString()方法.
>  类型的准换规则相对复杂，后续会整理一下。

4. 位操作
> 在JS里面，所有的数值类型的值都是以64位格式存储。**但是在位操作中，所有的64位数值先转换为32位整数，再进行位操作，之后再把结果转换为64位存储。** => 这个转换逻辑会有一个副作用：把NaN和Infinity在位操作中当作0处理

整数分为有符号整数和无符号整数。有符号整数的第32位是符号位，0/1分别表示正数和负数。

负数以补码的形式进行存储，补码通过一下的计算方式得到：
- 负数绝对值的二进制表示
- 绝对值的二进制的反码 => 每个0变1， 1变0
- 反码加1

上面也说了，位操作符是对数值进行操作的，因此，如果将位操作符应用到非数值上，则先会进行自动类型转换（Number()函数）再执行位操作。

-   按位非（～）：对每一位取反码
-   按位与（&）：两个操作数，对每一位对齐，同为1取1， 其他的取0
-   按位或（｜）：两个操作数，对每一位对齐，同为0取0，其他的取1
-   按位异或（^）：两个操作数，对每一位对齐，同1或同0取0，其他的取1
-   左移（<<）：左移会以0填充空位，**会保留操作数值的符号**，比如： -2左移5位 -> -64
-   有符号右移（>>）：保留符号，右侧空位以符号位填充
-   无符号右移（>>>）：右侧空位全部以0填充

5. 逻辑操作符
-   逻辑非（!）：转换成布尔值，再取反
    - 对象: false
    - 空字符串: true
    - 非空字符串: false
    - 0: true
    - 非0（包括Infinity): false
    - null : true
    - NaN: true
    - undefined: true
    > !! 等同于Boolan()
-   逻辑与（&&）：可用于操作任意类型的操作数，两个操作数（1，2表示）
    - 1是对象，返回2
    - 2是对象，只有1为true才返回
    - 1，2均为对象，返回2
-   逻辑或(||): 两个操作数，可用于操作任意类型的操作数

6. 乘性操作符： 乘法，除法，取模
- 乘法（*）
    - 数值相乘，正常运算，如果超出范围会返回Infinity或-Infinity
    ```
    9999999999999 ** 20 * 9999999999999999999999999999999999999999999999999 // output: Infinity

    ```
    - 有一个NaN, 返回NaN
    - Infinity * 0 返回NaN
    - Infinity * 非0数值，返回Infinity / -Infinity
    - Infinity * Infinity 返回 Infinity
    - 如果是非数值，先转换为数值，再应用上面的规则
- 除法（/）
    - 数值，正常运算
    - 有一个NaN, 返回NaN
    - Infinity / Infinity，返回NaN
    - 0 / 0 , 返回NaN
    - 非0 / 0 -> Infinity / -Infinity
    - Infinity / 数值 => Infinity / -Infinity
    - 不是操作数，先通过Number()进行转换
- 取模（%）
    - 数值，正常运算
    - Infinity % 有限值 ： NaN
    - 有限值 % 0 ： NaN
    - Infinity % Infinity : NaN
    - 有限值 % Infinity: 有限值
    - 0 % 非0 ： 0
    - 如果操作数不是数值，在后台通过Number()函数转换成数值，再计算

7. 指数操作符（**）等同于Math.pow()
8. 加性操作符
- 加法操作符（+）
    - 任一NaN: NaN
    - Infinitu + Infinity: Infinity
    - -Infinity + (-Infinity): -Infinity
    - -Infinity + Infinity: NaN
    - +0 + +0: +0
    - +0 + -0: +0
    - -0 + -0: -0
    - 如果有一个操作数为string
        - 另一个也是string, 拼接
        - 另一个不是string: 转换为字符串
- 减法操作符（-）
    - 数值，正常运算
    - 任一NaN: NaN
    - Infinity - Infinity: NaN
    - -Infinity - -Infinity: NaN
    - Infinity - -Infinity: Infinity
    - -Infinity - Infinity: -Infinity
    - +0 - +0: +0
    - +0 - -0: -0
    - -0 - -0: +0
    - 如果有任一操作数是字符串、布尔值、null或undefined，则先在后台使用Number()将其转换为数值，然后再根据前面的规则执行数学运算。如果转换结果是NaN，则减法计算的结果是NaN。
    - 任一操作数是对象，调用valudOf()方法，返回NaN, 计算结构为NaN.如果没valueOf()方法，调用toString()

9. 关系运算符： (>, <, >=, <=)
- 如果是数值，正常运算
- 都是字符串，对应字符的编码进行比较
- 任一数值，另一个操作数转换为数值
- 对象，调用valueOf()方法，若无该方法，调用toString()
- 布尔值，转换成数值

> 任何关系操作符在涉及比较NaN时都返回false

10. 相等运算符 （==， ===）
- 相等运算符（==）
    - 布尔值，转换为数值
    - 字符串和数值， 字符串转换成数值
    - 对象和非对象，调用对象的valueOf()
- 全等运算符（===）
相等和全等的区别就在于会不会进行类型转换再进行相等性比较。

11. 条件操作符（condition ? reaultA : resultB）
也叫三元运算符，根据condition的boolean结果选择reaultA还是resultB

12. 赋值运算符（=）
- 乘后赋值（*=）
- 除后赋值（/=）
- 取模后赋值(%=)
- 加后赋值(+=)
- 减后赋值（-=）
- 左移后赋值（<<=）
- 右移后赋值(>>=)
- 无符号右移后赋值(>>>=)
- 与后赋值（&&=）<font color="orange">(ES2021新增)</font>
- 或后赋值(||=) <font color="orange">(ES2021新增)</font>
- 逻辑赋值（??=）<font color="orange">(ES2021新增)</font>
```
    let num = undefined;
    num ??= 10 // output: 10
    // num如果为undefined 或 null, 则把右侧的值赋给它
```
- 位与后赋值（&=）
- 位或后赋值（｜=）
- 位异或后赋值（^=）

13. 逗号运算符