# HOC模式

> HOC模式是在多个组件中复用相同逻辑的方式之一。

- 多个HOC可以组合使用。
- 在大多数情况下，使用Hooks就足够了，且会减少组件树中的嵌套层级

#### HOC的使用场景
- 整个应用程序中的许多组件都需要使用相同的，非定制的行为。
- 该组件可以独立工作，无需添加自定义逻辑

#### Hooks的使用场景
- 需要为使用它的组件自定义行为
- 该行为不会在整个应用程序中传播，只有一个或几个组件使用该行为
- 该行为为组件添加了许多属性

#### HOC的优劣
- 降低了代码复制带来的Bug风险
- 将代码放在了一个地方，可以保持代码的DRY性，并可以执行关注点分离
- 当多层HOC组合使用时，对于数据的传递过程不是很清晰，对于调试来说，会有点麻烦
- HOC的顺序有时候也很重要，也可能会在代码重构时带来Bug
- 可能带来命名冲突

#### hooks的优劣
- 把相应的逻辑放在相应的component里面，减少了HOC带来的wrap hell，并能清晰地知道数据地流动，当重构代码或把代码划分为更小的部分地时候，可以提高开发者地体验。
- hooks允许我们从组件内部添加自定义行为，如果多个组件依赖这个行为，与HOC相比，可能会增加引入bug的风险。


#### 例子
比如，Admin平台中，获取area, district相关的自定义Hooks, 我觉得相对于使用HOC来说，在这个场景使用自定义Hooks更合适。因此，在自定义hooks中有不少相关的处理，component可以根据自己的需要进行导入，不需要通过HOC传递多余参数的形式来处理，且这个逻辑只是在几个组件之间使用。相对来说，之前的用于接收tier相关校验参数的，适合HOC的形式，这些参数都是需要的，且会在全局使用。

> https://www.patterns.dev/posts/hoc-pattern/
